
<div xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{layouts/main_layout}">

    <div layout:fragment="content">
        <div class="container py-5">
            <div class="mb-4">
                <h2 class="h3 fw-bold mb-1">튜터 대시보드</h2>
                <p class="text-muted mb-0">Mock 데이터 화면입니다</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-7">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h3 class="h5 fw-bold mb-3">예약 관리</h3>

                            <div class="d-grid gap-3">
                                <div class="card" th:each="b : ${bookings}">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <div class="fw-bold" th:text="${b.studentName}">학생</div>
                                                <div class="text-muted small" th:text="${b.studentEmail}">메일</div>
                                                <div class="mt-2 small">
                                                    📅 <span th:text="${b.date}">2026-01-30</span>
                                                    <span class="mx-2">|</span>
                                                    ⏰ <span th:text="${b.time}">14:00</span>
                                                    <span class="mx-2">|</span>
                                                    <span th:text="${b.duration}">2</span>시간
                                                </div>
                                                <div class="mt-2 small">과목: <span th:text="${b.subject}">영어</span></div>
                                                <div class="mt-2 small text-muted" th:if="${b.message != null && b.message != ''}">
                                                    요청사항: <span th:text="${b.message}">...</span>
                                                </div>
                                            </div>
                                            <div class="text-end">
                                                <div class="badge text-bg-secondary" th:text="${b.status}">대기중</div>
                                                <div class="fw-semibold text-primary mt-2"><span th:text="${#numbers.formatInteger(b.totalPrice, 0, 'COMMA')}">70,000</span>원</div>
                                                <div class="mt-3 d-flex gap-2 justify-content-end">
                                                    <button class="btn btn-sm btn-outline-primary tutor-booking-action"
                                                            th:attr="data-booking-id=${b.id},data-action='accept'">확정</button>
                                                    <button class="btn btn-sm btn-outline-danger tutor-booking-action"
                                                            th:attr="data-booking-id=${b.id},data-action='reject'">거절</button>
                                                    <button class="btn btn-sm btn-primary tutor-booking-action"
                                                            th:attr="data-booking-id=${b.id},data-action='complete'">완료</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h3 class="h5 fw-bold mb-3">학생 목록</h3>
                            <div class="list-group">
                                <button type="button" class="list-group-item list-group-item-action"
                                        th:each="s : ${students}"
                                        th:attr="data-student-id=${s.id}"
                                        onclick="alert('mock 화면입니다')">
                                    <div class="d-flex justify-content-between">
                                        <div class="fw-semibold" th:text="${s.name}">김학생</div>
                                        <div class="small text-muted" th:text="${s.totalSessions} + '회'">12회</div>
                                    </div>
                                    <div class="small text-muted" th:text="${s.email}">email</div>
                                </button>
                            </div>
                            <div class="text-muted small mt-3">대시보드 버튼은 동작만 흉내낸 mock입니다.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
